{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="container py-5">
  <div class="row">
    <!-- Sidebar Filters - Left Column -->
    <div class="col-lg-3 mb-4">
      <!-- Mobile Filter Toggle Button -->
      <div class="d-lg-none mb-3">
        <button class="btn btn-primary w-100" type="button" data-bs-toggle="collapse" data-bs-target="#filterSidebar" aria-expanded="false" aria-controls="filterSidebar">
          <i class="bi bi-funnel-fill me-2"></i> Show Filters
        </button>
      </div>
      
      <!-- Filter Sidebar Content -->
      <div class="collapse d-lg-block" id="filterSidebar">
        <!-- Mobile Close Button - Added this -->
        <div class="d-flex justify-content-between align-items-center d-lg-none mb-3">
          <h5 class="mb-0">Filters</h5>
          <button type="button" class="btn-close" id="filterSidebarClose" aria-label="Close"></button>
        </div>
        <!-- Search Filter -->
        <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title border-start border-4 border-danger ps-3 mb-3">Search Filter</h5>
            <form>
              <div class="mb-3">
                <label for="keywordSearch" class="form-label">Keyword</label>
                <div class="input-group">
                  <span class="input-group-text"><i class="bi bi-search"></i></span>
                  <input type="text" class="form-control" id="keywordSearch" placeholder="Search...">
                </div>
              </div>
              <div class="mb-3">
                <label for="categorySelect" class="form-label">Category</label>
                <select class="form-select" id="categorySelect">
                  <option selected>All Categories</option>
                  <option>Restaurants</option>
                  <option>Hotels</option>
                  <option>Shopping</option>
                  <option>Fitness</option>
                  <option>Travel</option>
                  <option>Real Estate</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="locationSelect" class="form-label">Location</label>
                <select class="form-select" id="locationSelect">
                  <option selected>All Locations</option>
                  <option>New York</option>
                  <option>Los Angeles</option>
                  <option>Chicago</option>
                  <option>Houston</option>
                  <option>Miami</option>
                </select>
              </div>
              <button type="submit" class="btn btn-danger w-100">Search</button>
            </form>
          </div>
        </div>
        
        <!-- Price Range Filter -->
        {% comment %} <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title border-start border-4 border-danger ps-3 mb-3">Price Range</h5>
            <div class="mb-3">
              <label for="priceRange" class="form-label d-flex justify-content-between">
                <span>Price</span>
                <span id="priceRangeValue">$0 - $1000</span>
              </label>
              <input type="range" class="form-range" min="0" max="1000" step="50" id="priceRange">
            </div>
          </div>
        </div> {% endcomment %}
        
        <!-- Features Filter -->
        {% comment %} <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title border-start border-4 border-danger ps-3 mb-3">Features</h5>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="feature1">
                <label class="form-check-label" for="feature1">Free WiFi</label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="feature2">
                <label class="form-check-label" for="feature2">Parking</label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="feature3">
                <label class="form-check-label" for="feature3">Air Conditioning</label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="feature4">
                <label class="form-check-label" for="feature4">Restaurant</label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="feature5">
                <label class="form-check-label" for="feature5">Swimming Pool</label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="feature6">
                <label class="form-check-label" for="feature6">Fitness Center</label>
              </div>
            </div>
          </div>
        </div> {% endcomment %}
        
        <!-- Rating Filter -->
        {% comment %} <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title border-start border-4 border-danger ps-3 mb-3">Rating</h5>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rating5">
                <label class="form-check-label" for="rating5">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                </label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rating4">
                <label class="form-check-label" for="rating4">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                </label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rating3">
                <label class="form-check-label" for="rating3">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                </label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rating2">
                <label class="form-check-label" for="rating2">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                </label>
              </div>
            </div>
            <div class="mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="rating1">
                <label class="form-check-label" for="rating1">
                  <i class="bi bi-star-fill text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                  <i class="bi bi-star text-warning"></i>
                </label>
              </div>
            </div>
          </div>
        </div> {% endcomment %}
        
        <!-- Popular Tags -->
        <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h5 class="card-title border-start border-4 border-danger ps-3 mb-3">Popular Tags</h5>
            <div class="d-flex flex-wrap gap-2">
              <a href="#" class="btn btn-sm btn-outline-secondary">Restaurant</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Hotel</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Spa</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Cafe</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Gym</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Shopping</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Travel</a>
              <a href="#" class="btn btn-sm btn-outline-secondary">Beauty</a>
            </div>
          </div>
        </div>
        
        <!-- Reset Filters Button -->
        <button class="btn btn-outline-secondary w-100 mb-4">Reset Filters</button>
      </div>
    </div>
    
    <!-- Listings - Right Column -->
    <div class="col-lg-9">
      <!-- Top Filter Bar -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-md-6 mb-3 mb-md-0">
              <p class="mb-0">Showing <strong>1-12</strong> of <strong>256</strong> results</p>
            </div>
            <div class="col-md-6">
              <div class="d-flex justify-content-md-end">
                <div class="btn-group me-3" role="group" aria-label="View options">
                  <a href="#" class="btn btn-outline-secondary active">
                    <i class="bi bi-grid-3x3-gap-fill"></i>
                  </a>
                  <a href="#" class="btn btn-outline-secondary">
                    <i class="bi bi-list"></i>
                  </a>
                </div>
                <select class="form-select" style="width: auto;">
                  <option selected>Sort by: Default</option>
                  <option>Price: Low to High</option>
                  <option>Price: High to Low</option>
                  <option>Rating: High to Low</option>
                  <option>Newest First</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Listings Grid -->
      <div class="row g-4">
        <!-- Listing 1 -->
        <div class="col-lg-4 col-md-6">
          <div class="listing-card bg-white rounded shadow-sm overflow-hidden">
            <div class="listing-img position-relative">
              <img src="{% static 'images/one.jpg' %}" alt="Listing" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
              <span class="badge bg-primary position-absolute top-0 start-0 m-3">Featured</span>
              <div class="listing-category position-absolute bottom-0 start-0 m-3">
                <span class="badge bg-dark">Accommodation</span>
              </div>
            </div>
            <div class="listing-content p-3">
              <div class="d-flex justify-content-between mb-2">
                <h5 class="listing-title mb-0">Luxury Hotel & Spa</h5>
                <div class="listing-rating">
                  <i class="bi bi-star-fill text-warning"></i>
                  <span>4.8</span>
                </div>
              </div>
              <p class="listing-address mb-2"><i class="bi bi-geo-alt me-1"></i> 123 Main St, City</p>
              <p class="listing-description mb-3">Experience luxury and comfort in our premium hotel with spa services.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="listing-price text-primary fw-bold">$150/night</div>
                <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Listing 2 -->
        <div class="col-lg-4 col-md-6">
          <div class="listing-card bg-white rounded shadow-sm overflow-hidden">
            <div class="listing-img position-relative">
              <img src="{% static 'images/one.jpg' %}" alt="Listing" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
              <div class="listing-category position-absolute bottom-0 start-0 m-3">
                <span class="badge bg-dark">Food & Drinks</span>
              </div>
            </div>
            <div class="listing-content p-3">
              <div class="d-flex justify-content-between mb-2">
                <h5 class="listing-title mb-0">Gourmet Restaurant</h5>
                <div class="listing-rating">
                  <i class="bi bi-star-fill text-warning"></i>
                  <span>4.6</span>
                </div>
              </div>
              <p class="listing-address mb-2"><i class="bi bi-geo-alt me-1"></i> 456 Oak Ave, City</p>
              <p class="listing-description mb-3">Fine dining experience with international cuisine and local specialties.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="listing-price text-primary fw-bold">$$$</div>
                <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Listing 3 -->
        <div class="col-lg-4 col-md-6">
          <div class="listing-card bg-white rounded shadow-sm overflow-hidden">
            <div class="listing-img position-relative">
              <img src="{% static 'images/one.jpg' %}" alt="Listing" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
              <span class="badge bg-primary position-absolute top-0 start-0 m-3">Featured</span>
              <div class="listing-category position-absolute bottom-0 start-0 m-3">
                <span class="badge bg-dark">Activities</span>
              </div>
            </div>
            <div class="listing-content p-3">
              <div class="d-flex justify-content-between mb-2">
                <h5 class="listing-title mb-0">Adventure Park</h5>
                <div class="listing-rating">
                  <i class="bi bi-star-fill text-warning"></i>
                  <span>4.9</span>
                </div>
              </div>
              <p class="listing-address mb-2"><i class="bi bi-geo-alt me-1"></i> 789 Pine Rd, City</p>
              <p class="listing-description mb-3">Exciting outdoor activities for all ages including zip lines and climbing walls.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="listing-price text-primary fw-bold">$25/person</div>
                <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Listing 4 -->
        <div class="col-lg-4 col-md-6">
          <div class="listing-card bg-white rounded shadow-sm overflow-hidden">
            <div class="listing-img position-relative">
              <img src="{% static 'images/one.jpg' %}" alt="Listing" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
              <div class="listing-category position-absolute bottom-0 start-0 m-3">
                <span class="badge bg-dark">Shopping</span>
              </div>
            </div>
            <div class="listing-content p-3">
              <div class="d-flex justify-content-between mb-2">
                <h5 class="listing-title mb-0">Fashion Boutique</h5>
                <div class="listing-rating">
                  <i class="bi bi-star-fill text-warning"></i>
                  <span>4.5</span>
                </div>
              </div>
              <p class="listing-address mb-2"><i class="bi bi-geo-alt me-1"></i> 101 Fashion St, City</p>
              <p class="listing-description mb-3">Trendy clothing and accessories from local and international designers.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="listing-price text-primary fw-bold">$$</div>
                <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Listing 5 -->
        <div class="col-lg-4 col-md-6">
          <div class="listing-card bg-white rounded shadow-sm overflow-hidden">
            <div class="listing-img position-relative">
              <img src="{% static 'images/one.jpg' %}" alt="Listing" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
              <span class="badge bg-primary position-absolute top-0 start-0 m-3">Featured</span>
              <div class="listing-category position-absolute bottom-0 start-0 m-3">
                  Let me continue with the rest of the landing page code:
                  <span class="badge bg-dark">Health</span>
              </div>
            </div>
            <div class="listing-content p-3">
              <div class="d-flex justify-content-between mb-2">
                <h5 class="listing-title mb-0">Wellness Spa & Center</h5>
                <div class="listing-rating">
                  <i class="bi bi-star-fill text-warning"></i>
                  <span>4.7</span>
                </div>
              </div>
              <p class="listing-address mb-2"><i class="bi bi-geo-alt me-1"></i> 202 Wellness Ave, City</p>
              <p class="listing-description mb-3">Rejuvenate your body and mind with our premium spa treatments and services.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="listing-price text-primary fw-bold">From $60</div>
                <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Listing 6 -->
        <div class="col-lg-4 col-md-6">
          <div class="listing-card bg-white rounded shadow-sm overflow-hidden">
            <div class="listing-img position-relative">
              <img src="{% static 'images/one.jpg' %}" alt="Listing" class="img-fluid w-100" style="height: 200px; object-fit: cover;">
              <div class="listing-category position-absolute bottom-0 start-0 m-3">
                <span class="badge bg-dark">Entertainment</span>
              </div>
            </div>
            <div class="listing-content p-3">
              <div class="d-flex justify-content-between mb-2">
                <h5 class="listing-title mb-0">Cinema Complex</h5>
                <div class="listing-rating">
                  <i class="bi bi-star-fill text-warning"></i>
                  <span>4.4</span>
                </div>
              </div>
              <p class="listing-address mb-2"><i class="bi bi-geo-alt me-1"></i> 303 Cinema Blvd, City</p>
              <p class="listing-description mb-3">State-of-the-art movie theaters with the latest releases and premium seating.</p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="listing-price text-primary fw-bold">$12/ticket</div>
                <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Pagination -->
        <div class="col-12 mt-4">
          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">
                  <i class="bi bi-chevron-left"></i>
                </a>
              </li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#">
                  <i class="bi bi-chevron-right"></i>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add JavaScript for price range slider -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const priceRange = document.getElementById('priceRange');
    const priceRangeValue = document.getElementById('priceRangeValue');
    
    priceRange.addEventListener('input', function() {
      priceRangeValue.textContent = `$0 - $${this.value}`;
    });
    
    // Initialize Bootstrap tooltips
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  });
</script>
{% endblock content %}

{% block scripts %}
<script>
  // Additional JavaScript for mobile responsiveness
  document.addEventListener('DOMContentLoaded', function() {
    // Handle filter sidebar on mobile
    const filterSidebar = document.getElementById('filterSidebar');
    const filterToggleBtn = document.querySelector('[data-bs-target="#filterSidebar"]');
    const closeBtn = document.getElementById('filterSidebarClose');
    
    // Ensure Bootstrap is properly loaded
    if (typeof bootstrap !== 'undefined') {
      // Initialize the collapse element
      const bsCollapse = new bootstrap.Collapse(filterSidebar, {
        toggle: false
      });
      
      // Add click event to close button
      if (closeBtn) {
        closeBtn.addEventListener('click', function() {
          bsCollapse.hide();
        });
      }
      
      // Close sidebar when clicking outside on mobile
      if (window.innerWidth < 992) {
        document.addEventListener('click', function(event) {
          if (!filterSidebar.contains(event.target) && 
              !filterToggleBtn.contains(event.target) && 
              filterSidebar.classList.contains('show')) {
            bsCollapse.hide();
          }
        });
      }
    }
    
    // Add hover effect for cards
    const cards = document.querySelectorAll('.listing-card');
    cards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-5px)';
        this.style.transition = 'transform 0.3s ease';
        this.style.boxShadow = '0 .5rem 1rem rgba(0,0,0,.15)';
      });
      
      card.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
        this.style.boxShadow = '0 .125rem .25rem rgba(0,0,0,.075)';
      });
    });
  });
</script>
{% endblock scripts %}